> **åšä¸»ä»‹ç»ï¼š**
> æœ¬äººä¸“æ³¨äºAndroid/java/æ•°æ®åº“/å¾®ä¿¡å°ç¨‹åºæŠ€æœ¯é¢†åŸŸçš„å¼€å‘ï¼Œä»¥åŠæœ‰å¥½å‡ å¹´çš„è®¡ç®—æœºæ¯•ä¸šè®¾è®¡æ–¹é¢çš„å®æˆ˜å¼€å‘ç»éªŒå’ŒæŠ€æœ¯ç§¯ç´¯ï¼›å°¤å…¶æ˜¯åœ¨å®‰å“ï¼ˆAndroidï¼‰çš„appçš„å¼€å‘å’Œå¾®ä¿¡å°ç¨‹åºçš„å¼€å‘ï¼Œå¾ˆæ˜¯ç†Ÿæ‚‰å’Œäº†è§£ï¼›æœ¬äººä¹Ÿæ˜¯å¤šå¹´çš„Androidå¼€å‘äººå‘˜ï¼›å¸Œæœ›æˆ‘å‘å¸ƒçš„æ­¤ç¯‡æ–‡ä»¶å¯ä»¥å¸®åŠ©åˆ°æ‚¨ï¼›
>
> ğŸ… **æ–‡ç« æœ«å°¾è·å–æºç ä¸‹è½½æ–¹å¼** ğŸ…

**ç›®å½•**

åˆ†äº«å†…å®¹ä¿¡æ¯æˆªå›¾ï¼š

ä¸€ã€é¡¹ç›®ä»‹ç»

äºŒã€è¿è¡Œç¯å¢ƒ

ä¸‰ã€è½¯ä»¶æˆªå›¾

1ï¼šåŠŸèƒ½å›¾è¯´æ˜

2ï¼šè½¯ä»¶é¦–é¡µä¿¡æ¯

3ï¼šè½¯ä»¶åå°ç®¡ç†

å››ã€éƒ¨åˆ†ä»£ç 

1ï¼šç”¨æˆ·ä¿¡æ¯

2ï¼šæ•°æ®åº“æ“ä½œæ–‡ä»¶

äº”ã€æºç è·å–

* * *

#### åˆ†äº«å†…å®¹ä¿¡æ¯æˆªå›¾ï¼š

![](./res/2396e474d1364b498f38d49f4f09460b.png)

![](./res/d4b5f9ef5d214720a2393fbe86c9fca6.png)

#### ä¸€ã€é¡¹ç›®ä»‹ç»

åŸºäºJAVA_JSPç”µå­ä¹¦ä¸‹è½½ç³»ç»Ÿä¸»è¦ç”¨åŠŸèƒ½åŒ…æ‹¬ï¼šå›¾ä¹¦ä¿¡æ¯åˆ†ç±»æŸ¥è¯¢ã€ä¹¦åå’Œä½œè€…æŸ¥è¯¢ã€ç”¨æˆ·æ³¨å†Œã€ç‚¹åˆ¸å……å€¼ã€ç•™è¨€æ¿ï¼›å…¬å‘Šé˜…è§ˆã€ä¼šå‘˜ç®¡ç†ã€ä¹¦ç±ç®¡ç†ã€ä¹¦ç±ç±»åˆ«ç®¡ç†ã€å…¬å‘Šç®¡ç†ç­‰ç­‰åŠŸèƒ½

> **1ï¼šåå°ç®¡ç†:**  
>  ä¸ªäººä¿¡æ¯ç®¡ç†ï¼šå®ç°ä¸ªå¯†ç ä¿¡æ¯çš„ä¿®æ”¹  
>  ä¼šå‘˜ä¿¡æ¯ç®¡ç†ï¼šå®ç°ä¼šå‘˜ä¿¡æ¯çš„æŸ¥è¯¢ã€åˆ é™¤  
>  ç‚¹åˆ¸å……å€¼ç®¡ç†ï¼šå®ç°å……å€¼ä¿¡æ¯çš„æŸ¥è¯¢ã€å®¡æ ¸ã€åˆ é™¤  
>  ç±»åˆ«ä¿¡æ¯ç®¡ç†ï¼šå®ç°å›¾ä¹¦ç±»åˆ«ä¿¡æ¯å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥çœ‹åŠŸèƒ½  
>  ç”µå­ä¹¦ä¿¡æ¯ç®¡ç†ï¼šå®ç°ç”µå­ä¹¦ä¿¡æ¯çš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥çœ‹åŠŸèƒ½  
>  ç•™è¨€å…¬å‘Šç®¡ç†ï¼šå®ç°å…¬å‘Šä¿¡æ¯çš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥çœ‹åŠŸèƒ½  
>  å®ç°ç•™è¨€ä¿¡æ¯çš„æŸ¥è¯¢å’Œåˆ é™¤
>
> **2ï¼šå‰å°ç®¡ç†ï¼š**  
>  å®ç°ç”µå­ä¹¦ä¿¡æ¯çš„åˆ†ç±»æŸ¥è¯¢ã€ä½œè€…ã€ä¹¦åæŸ¥è¯¢  
>  å®ç°ç”¨æˆ·ä¿¡æ¯çš„æ³¨å†Œ  
>  å®ç°ç”¨æˆ·çš„ç™»å½•å’Œé€€å‡º  
>  å®ç°ç™»å½•ç”¨æˆ·çš„ç•™è¨€ã€é‡ç½®ã€ä¹¦ç±ä¸‹è½½

#### äºŒã€è¿è¡Œç¯å¢ƒ

> 1ï¼šæ“ä½œç³»ç»Ÿæ˜¯Windows10æˆ–è€…Windows11  
>  2ï¼šMyeclipse 2014  
>  3ï¼šæ•°æ®åº“ä½¿ç”¨SQL Server  
>  4ï¼šæœåŠ¡ç«¯tomcatæ˜¯7.0

#### ä¸‰ã€è½¯ä»¶æˆªå›¾

##### 1ï¼šåŠŸèƒ½å›¾è¯´æ˜

![](./res/8ee26f78ee9a47ad8bf33008f8047144.jpeg)

##### 2ï¼šè½¯ä»¶é¦–é¡µä¿¡æ¯

![](./res/30b661b87e2d48878fdb733ab94f4b60.jpeg)

##### 3ï¼šè½¯ä»¶åå°ç®¡ç†

![](./res/64cc0aaac0ad4f3990289c7c82fa9d8c.jpeg)

#### å››ã€éƒ¨åˆ†ä»£ç 

##### 1ï¼šç”¨æˆ·ä¿¡æ¯

    
    
    public class user_servlet extends HttpServlet
    {
    	public void service(HttpServletRequest req,HttpServletResponse res)throws ServletException, IOException 
    	{
            String type=req.getParameter("type");
    		
    		
    		if(type.endsWith("userReg"))
    		{
    			userReg(req, res);
    		}
    		if(type.endsWith("userLogout"))
    		{
    			userLogout(req, res);
    		}
    		if(type.endsWith("userEdit"))
    		{
    			userEdit(req, res);
    		}
    		if(type.endsWith("userMana"))
    		{
    			userMana(req, res);
    		}
    		if(type.endsWith("userDel"))
    		{
    			userDel(req, res);
    		}
    		if(type.endsWith("userDetail"))
    		{
    			userDetail(req, res);
    		}
    	}
    	
    	
    	public void userReg(HttpServletRequest req,HttpServletResponse res)
    	{
    		String id=String.valueOf(new Date().getTime());
    		String loginname=req.getParameter("loginname");
    		String loginpw=req.getParameter("loginpw");
    		String name=req.getParameter("name");
    		String sex=req.getParameter("sex");
    		String age=req.getParameter("age");
    		String address=req.getParameter("address");
    		String tel=req.getParameter("tel");
    		String email=req.getParameter("email");
    		String qq=req.getParameter("qq");
    		int dianquan=0;
    		String del="no";
    		
    		String sql="insert into t_user values(?,?,?,?,?,?,?,?,?,?,?,?)";
    		Object[] params={id,loginname,loginpw,name,sex,age,address,tel,email,qq,dianquan,del};
    		DB mydb=new DB();
    		mydb.doPstm(sql, params);
    		mydb.closed();
    		
            String targetURL = "/common/add_success.jsp";
    		dispatch(targetURL, req, res);
    	}
    	
    	
    	
    	public void userLogout(HttpServletRequest req,HttpServletResponse res)
    	{
    		req.getSession().setAttribute("user", null);
    		String targetURL = "/qiantai/default.jsp";
    		dispatch(targetURL, req, res);		
    	}
    	
    	public void userEdit(HttpServletRequest req,HttpServletResponse res)
    	{
    		String id=req.getParameter("id");
    		String loginname=req.getParameter("loginname");
    		String loginpw=req.getParameter("loginpw");
    		String name=req.getParameter("name");
    		String sex=req.getParameter("sex");
    		String age=req.getParameter("age");
    		String address=req.getParameter("address");
    		String tel=req.getParameter("tel");
    		String email=req.getParameter("email");
    		String qq=req.getParameter("qq");
    		
    		String sql="update t_user set loginpw=?,name=?,sex=?,age=?,address=?,tel=?,email=?,qq=? where id=?";
    		Object[] params={loginpw,name,sex,age,address,tel,email,qq,id};
    		DB mydb=new DB();
    		mydb.doPstm(sql, params);
    		mydb.closed();
    		
    		String targetURL = "/common/add_success.jsp";
    		dispatch(targetURL, req, res);
    	}
    	
    	
    	public void userDel(HttpServletRequest req,HttpServletResponse res)
    	{
    		String id=req.getParameter("id");
    		
    		String sql="update t_user set del='yes' where id=?";
    		Object[] params={id};
    		DB mydb=new DB();
    		mydb.doPstm(sql, params);
    		mydb.closed();
    		
    		req.setAttribute("message", "Â²Ã™Ã—Ã·Â³Ã‰Â¹Â¦");
    		req.setAttribute("path", "user?type=userMana");
    		
            String targetURL = "/common/success.jsp";
    		dispatch(targetURL, req, res);
    	}
    
    	public void userMana(HttpServletRequest req,HttpServletResponse res) throws ServletException, IOException
    	{
    		List userList=new ArrayList();
    		String sql="select * from t_user where del='no'";
    		Object[] params={};
    		DB mydb=new DB();
    		try
    		{
    			mydb.doPstm(sql, params);
    			ResultSet rs=mydb.getRs();
    			while(rs.next())
    			{
    				Tuser user=new Tuser();
    				
    				user.setId(rs.getString("id"));
    				user.setLoginname(rs.getString("loginname"));
    				user.setLoginpw(rs.getString("loginpw"));
    				user.setLoginpw(rs.getString("loginpw"));
    				user.setName(rs.getString("name"));
    				user.setSex(rs.getString("sex"));
    				user.setAge(rs.getString("age"));
    				user.setAddress(rs.getString("address"));
    				user.setTel(rs.getString("tel"));
    				user.setEmail(rs.getString("email"));
    				user.setQq(rs.getString("qq"));
    				user.setDianquan(rs.getInt("dianquan"));
    				
    				userList.add(user);
    		    }
    			rs.close();
    		}
    		catch(Exception e)
    		{
    			e.printStackTrace();
    		}
    		mydb.closed();
    		
    		req.setAttribute("userList", userList);
    		req.getRequestDispatcher("admin/user/userMana.jsp").forward(req, res);
    	}
    	
    	
    	
    	public void userDetail(HttpServletRequest req,HttpServletResponse res) throws ServletException, IOException
    	{
    		List userList=new ArrayList();
    		String sql="select * from t_user where id=?";
    		Object[] params={req.getParameter("id")};
    		DB mydb=new DB();
    		try
    		{
    			mydb.doPstm(sql, params);
    			ResultSet rs=mydb.getRs();
    			while(rs.next())
    			{
    				Tuser user=new Tuser();
    				
    				user.setId(rs.getString("id"));
    				user.setLoginname(rs.getString("loginname"));
    				user.setLoginpw(rs.getString("loginpw"));
    				user.setLoginpw(rs.getString("loginpw"));
    				user.setName(rs.getString("name"));
    				user.setSex(rs.getString("sex"));
    				user.setAge(rs.getString("age"));
    				user.setAddress(rs.getString("address"));
    				user.setTel(rs.getString("tel"));
    				user.setEmail(rs.getString("email"));
    				user.setQq(rs.getString("qq"));
    				user.setDianquan(rs.getInt("dianquan"));
    				
    				userList.add(user);
    		    }
    			rs.close();
    		}
    		catch(Exception e)
    		{
    			e.printStackTrace();
    		}
    		mydb.closed();
    		
    		req.setAttribute("userList", userList);
    		req.getRequestDispatcher("admin/user/userDetail.jsp").forward(req, res);
    	}
    	
    	public void dispatch(String targetURI,HttpServletRequest request,HttpServletResponse response) 
    	{
    		RequestDispatcher dispatch = getServletContext().getRequestDispatcher(targetURI);
    		try 
    		{
    		    dispatch.forward(request, response);
    		    return;
    		} 
    		catch (ServletException e) 
    		{
                        e.printStackTrace();
    		} 
    		catch (IOException e) 
    		{
    			
    		    e.printStackTrace();
    		}
    	}
    	public void init(ServletConfig config) throws ServletException 
    	{
    		super.init(config);
    	}
    	
    	public void destroy() 
    	{
    		
    	}
    }
    

##### 2ï¼šæ•°æ®åº“æ“ä½œæ–‡ä»¶

    
    
    package cn.itbaizhan.dao;
    
    import java.sql.Connection;
    import java.sql.DriverManager;
    import java.sql.PreparedStatement;
    import java.sql.ResultSet;
    import java.sql.SQLException;
    
    public class DB
    {
    	private Connection con;
    
    	private PreparedStatement pstm;
    
    	private String user = "sa";
    
    	private String password = "123456";
    
    	private String className = "com.microsoft.sqlserver.jdbc.SQLServerDriver";
    
    	private String url = "jdbc:sqlserver://192.168.0.132:1433;databaseName=db_book";
     
    	
    	public DB()
    	{
    		try
    		{
    			Class.forName(className);
    		} catch (ClassNotFoundException e)
    		{
    			System.out.println("Â¼Ã“Ã”Ã˜ÃŠÃ½Â¾ÃÂ¿Ã¢Ã‡Ã½Â¶Â¯ÃŠÂ§Â°ÃœÂ£Â¡");
    			e.printStackTrace();
    		}
    	}
    
    	/** Â´Â´Â½Â¨ÃŠÃ½Â¾ÃÂ¿Ã¢ÃÂ¬Â½Ã“ */
    	public Connection getCon()
    	{
    		try
    		{
    			con = DriverManager.getConnection(url, user, password);
    		} catch (SQLException e)
    		{
    			System.out.println("Â´Â´Â½Â¨ÃŠÃ½Â¾ÃÂ¿Ã¢ÃÂ¬Â½Ã“ÃŠÂ§Â°ÃœÂ£Â¡");
    			con = null;
    			e.printStackTrace();
    		}
    		return con;
    	}
    
    	public void doPstm(String sql, Object[] params)
    	{
    		if (sql != null && !sql.equals(""))
    		{
    			if (params == null)
    				params = new Object[0];
    
    			getCon();
    			if (con != null)
    			{
    				try
    				{
    					System.out.println(sql);
    					pstm = con.prepareStatement(sql,
    							ResultSet.TYPE_SCROLL_INSENSITIVE,
    							ResultSet.CONCUR_READ_ONLY);
    					for (int i = 0; i < params.length; i++)
    					{
    						pstm.setObject(i + 1, params[i]);
    					}
    					pstm.execute();
    				} catch (SQLException e)
    				{
    					System.out.println("doPstm()Â·Â½Â·Â¨Â³Ã¶Â´Ã­Â£Â¡");
    					e.printStackTrace();
    				}
    			}
    		}
    	}
    
    	public ResultSet getRs() throws SQLException
    	{
    		return pstm.getResultSet();
    	}
    
    	public int getCount() throws SQLException
    	{
    		return pstm.getUpdateCount();
    	}
    
    	public void closed()
    	{
    		try
    		{
    			if (pstm != null)
    				pstm.close();
    		} catch (SQLException e)
    		{
    			System.out.println("Â¹Ã˜Â±Ã•pstmÂ¶Ã”ÃÃ³ÃŠÂ§Â°ÃœÂ£Â¡");
    			e.printStackTrace();
    		}
    		try
    		{
    			if (con != null)
    			{
    				con.close();
    			}
    		} catch (SQLException e)
    		{
    			System.out.println("Â¹Ã˜Â±Ã•conÂ¶Ã”ÃÃ³ÃŠÂ§Â°ÃœÂ£Â¡");
    			e.printStackTrace();
    		}
    	}
    }
    

#### äº”ã€æºç è·å–

> å¤§å®¶ **ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€è¯„è®º** å•¦ ã€ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»åæœŸåˆ†äº«æ›´å¤šä¼˜è´¨æ¯•ä¸šè®¾è®¡æºç ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»
>
> ğŸ… **æœç´¢å¾®ä¿¡å…³æ³¨å…¬ä¼—å·ï¼šæ¯•è®¾codeï¼›æˆ–è€…æ‰«æä¸‹æ–¹äºŒç»´ç ï¼›** ğŸ…
>
> å›å¤ï¼š **ç”µå­ä¹¦ä¸‹è½½**
>
> å°±å¯å…è´¹ä¸‹è½½æºç ä¿¡æ¯ï¼›

