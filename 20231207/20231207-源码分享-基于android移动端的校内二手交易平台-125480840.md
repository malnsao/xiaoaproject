> **åšä¸»ä»‹ç»ï¼š**
> æœ¬äººä¸“æ³¨äºŽAndroid/java/æ•°æ®åº“/å¾®ä¿¡å°ç¨‹åºæŠ€æœ¯é¢†åŸŸçš„å¼€å‘ï¼Œä»¥åŠæœ‰å¥½å‡ å¹´çš„è®¡ç®—æœºæ¯•ä¸šè®¾è®¡æ–¹é¢çš„å®žæˆ˜å¼€å‘ç»éªŒå’ŒæŠ€æœ¯ç§¯ç´¯ï¼›å°¤å…¶æ˜¯åœ¨å®‰å“ï¼ˆAndroidï¼‰çš„appçš„å¼€å‘å’Œå¾®ä¿¡å°ç¨‹åºçš„å¼€å‘ï¼Œå¾ˆæ˜¯ç†Ÿæ‚‰å’Œäº†è§£ï¼›æœ¬äººä¹Ÿæ˜¯å¤šå¹´çš„Androidå¼€å‘äººå‘˜ï¼›å¸Œæœ›æˆ‘å‘å¸ƒçš„æ­¤ç¯‡æ–‡ä»¶å¯ä»¥å¸®åŠ©åˆ°æ‚¨ï¼›
>
> ðŸ… **æ–‡ç« æœ«å°¾èŽ·å–æºç ä¸‹è½½æ–¹å¼** ðŸ…

#### ä¸€ã€é¡¹ç›®ä»‹ç»

> 1.äºŒæ‰‹ç‰©å“èµ„æºç®¡ç†åŠŸèƒ½  
>  è€å¸ˆã€å­¦ç”Ÿå‡å¯ä»¥åœ¨å¹³å°å‘å¸ƒæƒ³è¦å”®å–çš„ç‰©å“ï¼Œå¹¶é…ä¸Šå®žç‰©å›¾ç‰‡ã€ä»·æ ¼åŠç›¸å…³æè¿°ã€‚  
>  è€å¸ˆå­¦ç”Ÿå‡å¯ä»¥åœ¨å¹³å°ä¸Šé€‰æ‹©æƒ³è¦è´­ä¹°çš„ç‰©å“ï¼Œç„¶åŽç•™è¨€å–å®¶è¿›è¡Œè´­ä¹°  
>  2.ç•™è¨€æ²Ÿé€šæ¨¡å—ã€‚  
>  ä¹°å®¶å¯ä»¥åœ¨å–å®¶çš„ç‰©å“ä¸‹ç•™è¨€ï¼Œè¿›è¡Œåå•†ã€‚  
>  å–å®¶å¯ä»¥åœ¨è‡ªå·±ç‰©å“çš„ç•™è¨€ä¸Šè¿›è¡Œå›žå¤ï¼Œä¸Žä¹°å®¶åå•†ã€‚  
>  3.äºŒæ‰‹ç‰©å“ä¿¡æ¯ç®¡ç†æ¨¡å—  
>  å–å®¶èƒ½å¤Ÿåœ¨ç‰©å“å–å‡ºåŽï¼Œæ ‡æ˜Žç‰©å“å·²å”®å‡ºï¼Œä»¥åŽä¸ä¼šå†æ˜¾ç¤º  
>  å–å®¶å¯ä»¥éšæ—¶è°ƒæ•´ç‰©ä½“çš„ä»·æ ¼ã€å›¾ç‰‡ã€ç›¸å…³æè¿°ã€‚  
>  4.ç‰©å“åˆ†ç±»æœç´¢æ¨¡å—  
>  æ‰€æœ‰å‘å¸ƒå”®å–çš„ç‰©å“ï¼Œéƒ½è¦ç”±å–å®¶è¿›è¡Œå½’ç±»ï¼Œä¹°å®¶å¯ä»¥åœ¨åˆ†ç±»ä¸­å¯»æ‰¾æˆ–è€…æœç´¢ç›¸å…³æè¿°è¿›è¡Œå¯»æ‰¾ã€‚  
>  5\. ç”¨æˆ·ç™»å½•éªŒè¯æ¨¡å—  
>  è€å¸ˆæˆ–å­¦ç”Ÿåœ¨æ³¨å†Œæ—¶è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä¸Šä¼ å·¥ä½œè¯æˆ–å­¦ç”Ÿè¯ï¼Œç”±åŽå°äººå·¥éªŒè¯ã€‚

#### äºŒã€è¿è¡ŒçŽ¯å¢ƒ

> 1ï¼šå®¢æˆ·ç«¯ä½¿ç”¨Android stuidoè¿›è¡Œå¼€å‘ï¼›  
>  2ï¼šæœåŠ¡ç«¯åŽå°ä½¿ç”¨Myeclipse2014è¿›è¡Œå¼€å‘ï¼›  
>  3ï¼šmysqlæ•°æ®åº“è¿›è¡Œæ•°æ®å­˜å‚¨ï¼›  
>  4ï¼šéœ€è¦jdk1.7ä»¥ä¸Š  
>  5ï¼šä½¿ç”¨é›·ç”µæ¨¡æ‹Ÿå™¨æˆ–è€…Androidstuioè‡ªå¸¦çš„æ¨¡æ‹Ÿå™¨è¿›è¡Œè¿è¡Œ

#### ä¸‰ã€ä½¿ç”¨æŠ€æœ¯

> **æ€»ä½“è®¾è®¡é€»è¾‘å’Œæ€è·¯ï¼š**  
>  1ï¼šå…ˆè®¾è®¡æ•°æ®åº“è¡¨æ–‡ä»¶  
>  2ï¼šå†™æœåŠ¡ç«¯jspé¡µé¢ä»¥åŠå†™apiæŽ¥å£ç»™å®¢æˆ·ç«¯æä¾›æ•°æ®  
>  3ï¼šå®ŒæˆåŽå°æœåŠ¡ç«¯çš„æ•°æ®äº¤äº’ï¼Œä¹Ÿå°±æ˜¯jspé¡µé¢æ•°æ®çš„å­˜å‚¨å’Œæ˜¾ç¤º  
>  4ï¼šè¿›è¡Œå®¢æˆ·ç«¯é¡µé¢çš„å¼€å‘ï¼›  
>  5ï¼šè¿›è¡Œå®¢æˆ·ç«¯å¯¹apiæŽ¥å£çš„è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯èŽ·å–æ•°æ®åº“çš„æ•°æ®ä»¥åŠåœ¨å®¢æˆ·ç«¯è¿›è¡Œæ˜¾ç¤º
>
> **ç§»åŠ¨ç«¯ï¼š**  
>  1ï¼šä½¿ç”¨androidåŽŸç”ŸæŽ§ä»¶ä»¥åŠxmlå¸ƒå±€æ–‡ä»¶æ¥å®Œæˆç•Œé¢çš„æ˜¾ç¤º  
>  2ï¼šä½¿ç”¨javaä»£ç å®ŒæˆåŠŸèƒ½çš„æ•°æ®å’Œé€»è¾‘äº¤äº’  
>  3ï¼šä½¿ç”¨httpç½‘ç»œè¯·æ±‚å®Œæˆæ•°æ®çš„è¯·æ±‚ï¼›  
>  **4ï¼šä½¿ç”¨jsonæ•°æ®è§£æžå®Œæˆå®¢æˆ·ç«¯æ•°æ®çš„å›žè°ƒå’Œæ˜¾ç¤º**
>
> **æœåŠ¡ç«¯åŽå°ï¼š**  
>  1ï¼šä½¿ç”¨mysqlå®Œæˆæ•°æ®çš„å­˜å‚¨  
>  2ï¼šä½¿ç”¨jdbcå®Œæˆæ•°æ®åº“å’Œä»£ç çš„é€»è¾‘äº¤äº’  
>  3ï¼šä½¿ç”¨jspå®Œæˆç½‘é¡µæ•°æ®çš„æ˜¾ç¤º  
>  4ï¼šä½¿ç”¨javaä»£ç å®ŒæˆapiæŽ¥å£çš„ç¼–å†™ä»¥åŠä»¥åŠæ•°æ®çš„å›žè°ƒ

#### å››ã€æ•°æ®åº“è®¾è®¡

> /*  
>  Navicat MySQL Data Transfer
>
> Source Server : mysql  
>  Source Server Version : 50537  
>  Source Host : localhost:3306  
>  Source Database : shoppingdb
>
> Target Server Type : MYSQL  
>  Target Server Version : 50537  
>  File Encoding : 65001
>
> Date: 2017-03-27 18:08:40  
>  */
>
> SET FOREIGN_KEY_CHECKS=0;
>
> \-- ----------------------------  
>  \-- Table structure for `category`  
>  \-- ----------------------------  
>  DROP TABLE IF EXISTS `category`;  
>  CREATE TABLE `category` (  
>  `cgId` int(50) NOT NULL AUTO_INCREMENT,  
>  `cgName` varchar(100) NOT NULL,  
>  PRIMARY KEY (`cgId`)  
>  ) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8;
>
> \-- ----------------------------  
>  \-- Records of category  
>  \-- ----------------------------  
>  INSERT INTO `category` VALUES ('10', 'è¡£æœ');  
>  INSERT INTO `category` VALUES ('11', 'ç”µè„‘');  
>  INSERT INTO `category` VALUES ('12', 'ä¹¦ç±');  
>  INSERT INTO `category` VALUES ('13', 'ç”Ÿæ´»ç”¨å“');
>
> \-- ----------------------------  
>  \-- Table structure for `collect`  
>  \-- ----------------------------  
>  DROP TABLE IF EXISTS `collect`;  
>  CREATE TABLE `collect` (  
>  `cId` int(50) NOT NULL AUTO_INCREMENT,  
>  `cUserId` varchar(100) NOT NULL,  
>  `cUserName` varchar(100) NOT NULL,  
>  `cShopId` varchar(50) NOT NULL,  
>  PRIMARY KEY (`cId`)  
>  ) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf8;
>
> \-- ----------------------------  
>  \-- Records of collect  
>  \-- ----------------------------  
>  INSERT INTO `collect` VALUES ('24', '19', 'pony1028', '14');  
>  INSERT INTO `collect` VALUES ('25', '19', 'pony1028', '15');  
>  INSERT INTO `collect` VALUES ('26', '19', 'pony1028', '7');
>
> \-- ----------------------------  
>  \-- Table structure for `review`  
>  \-- ----------------------------  
>  DROP TABLE IF EXISTS `review`;  
>  CREATE TABLE `review` (  
>  `rid` int(50) NOT NULL AUTO_INCREMENT,  
>  `rUserId` varchar(50) NOT NULL,  
>  `rUserName` varchar(100) NOT NULL,  
>  `rShopId` varchar(100) NOT NULL,  
>  `rReviewContent` varchar(300) NOT NULL,  
>  `rReplyContent` varchar(300) DEFAULT NULL,  
>  `rCreatime` varchar(100) NOT NULL,  
>  PRIMARY KEY (`rid`)  
>  ) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8;
>
> \-- ----------------------------  
>  \-- Records of review  
>  \-- ----------------------------  
>  INSERT INTO `review` VALUES ('16', '3', 'Pony', '4', 'è°¢è°¢çŽ‹åŒ»ç”Ÿçš„ç¥ç¦',
> 'æ–°çš„ä¸€å¹´è¦å¼€å¿ƒå“¦', '2017-02-06 15:33');  
>  INSERT INTO `review` VALUES ('17', '19', 'pony1028', '7', 'å“Ÿå“Ÿå“Ÿ', '',
> '2017-03-02 10:11');  
>  INSERT INTO `review` VALUES ('18', '19', 'pony1028', '7', 'æˆ‘å“¦å“Ÿ', '',
> '2017-03-02 10:12');  
>  INSERT INTO `review` VALUES ('19', '19', 'pony1028', '7', 'æˆ‘çš„è´­ä¹°', '',
> '2017-03-02 10:15');  
>  INSERT INTO `review` VALUES ('20', '19', 'pony1028', '7', 'æˆ‘çš„è´­ä¹°æˆ‘çš„', '',
> '2017-03-02 10:49');  
>  INSERT INTO `review` VALUES ('21', '19', 'pony1028å›žå¤pony1028', '7', '', '',
> '2017-03-02 11:18');  
>  INSERT INTO `review` VALUES ('22', '19', 'pony1028å›žå¤pony1028', '7', '', '',
> '2017-03-02 11:18');  
>  INSERT INTO `review` VALUES ('23', '19', 'pony1028å›žå¤pony1028', '7', 'æˆ‘çš„æµ‹è¯•',
> '', '2017-03-02 11:39');  
>  INSERT INTO `review` VALUES ('24', '19', 'pony1028', '5', 'ä¸€å¹´åˆä¸€å¹´', '',
> '2017-03-02 11:40');  
>  INSERT INTO `review` VALUES ('25', '19', 'pony1028å›žå¤pony1028', '5', 'æˆ‘å“¦çš„',
> '', '2017-03-02 11:40');  
>  INSERT INTO `review` VALUES ('26', '23', 'ponylove', '10', 'æˆ‘å–œæ¬¢', '',
> '2017-03-03 09:19');  
>  INSERT INTO `review` VALUES ('27', '23', 'ponylove', '6', 'å“Ÿå“Ÿdadadada', '',
> '2017-03-03 09:28');  
>  INSERT INTO `review` VALUES ('28', '18', 'pony', '6', 'æˆ‘çš„æ•°æ®', '',
> '2017-03-03 10:20');  
>  INSERT INTO `review` VALUES ('29', '26', 'tom', '10', 'æˆ‘çš„è¯„è®º', '',
> '2017-03-03 15:08');  
>  INSERT INTO `review` VALUES ('30', '26', 'tomå›žå¤ponylove', '10', 'æˆ‘å¯¹ä½ çš„å›žå¤',
> '', '2017-03-03 15:08');
>
> \-- ----------------------------  
>  \-- Table structure for `shop`  
>  \-- ----------------------------  
>  DROP TABLE IF EXISTS `shop`;  
>  CREATE TABLE `shop` (  
>  `sId` int(50) NOT NULL AUTO_INCREMENT,  
>  `sName` varchar(100) NOT NULL,  
>  `sMoney` varchar(100) NOT NULL,  
>  `sPhone` varchar(100) NOT NULL,  
>  `sMessage` varchar(100) NOT NULL,  
>  `sImage` varchar(500) NOT NULL,  
>  `sCreatime` varchar(100) NOT NULL,  
>  `userId` varchar(100) NOT NULL,  
>  `sState` varchar(50) NOT NULL,  
>  `sPayUsererId` varchar(50) DEFAULT NULL,  
>  `sPayUserName` varchar(100) DEFAULT NULL,  
>  `sCategory` varchar(100) NOT NULL,  
>  PRIMARY KEY (`sId`)  
>  ) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;
>
> \-- ----------------------------  
>  \-- Records of shop  
>  \-- ----------------------------  
>  INSERT INTO `shop` VALUES ('5', 'æ‰‹æœº', '5000', '15249243002', 'æˆ‘çš„äº§å“',
> '20170227180957.jpg,40a4121a0de1035497dd5b1be5e22408.jpg,8d4e394f7a78fe67633038484d32bfee.jpg,f0003cffb54179d88bb7067b1359c88c.jpg',
> '08:42', '19', '1', '', null, '10');  
>  INSERT INTO `shop` VALUES ('6', 'ç”µè„‘', '6000', '1524243002', 'å“¦ç”¨',
> '8d4e394f7a78fe67633038484d32bfee.jpg,f0003cffb54179d88bb7067b1359c88c.jpg',
> '08:47', '19', '2', '23', 'ponylove', '11');  
>  INSERT INTO `shop` VALUES ('7', 'æˆ¿å­', '5000', '15249243002', 'æ‘¸æ‘¸æ‘¸',
> 'a6b530da80a8cc6a64464104d43c0274.jpg,mmexport1488441286592.jpg', '09:15',
> '19', '1', '', null, '10');  
>  INSERT INTO `shop` VALUES ('10', 'æµ‹è¯•äº§å“', '600', '15249243002', 'å“Ÿå“Ÿå“Ÿ',
> '20170227173507.jpg,20170227175206.jpg,20170227180710.jpg,20170227180957.jpg,8d4e394f7a78fe67633038484d32bfee.jpg,f0003cffb54179d88bb7067b1359c88c.jpg,20170301_020341.jpg,S70302-101551.jpg',
> '08:43', '19', '2', '26', 'tom', '13');  
>  INSERT INTO `shop` VALUES ('11', 'ä¹¦è®°', '66', '15249243002', 'å–”å–”å–”',
> '20170226_095040.jpg,S70226-102427.jpg,44f13dad3384161f4086589a871401b1.jpg',
> '09:19', '23', '1', '', null, '12');  
>  INSERT INTO `shop` VALUES ('12', 'æˆ‘çš„æ‰‹æœº', '666', '15249243002', 'å“Ÿå“Ÿå“Ÿ',
> 'mmexport1488441286592.jpg', '10:49', '19', '1', null, null, '12');  
>  INSERT INTO `shop` VALUES ('13', 'æˆ‘çš„ç”µè„‘æœ€å¥½äº†', '5000', '15249428888',
> 'è¿™ä¸ªæ˜¯æˆ‘çš„ç”µè„‘',
> 'Screenshot_2017-03-03-15-03-17.png,Screenshot_2017-03-03-15-03-21.png,Screenshot_2017-03-03-15-03-48.png,Screenshot_2017-03-03-15-03-56.png',
> '15:07', '26', '1', null, null, '13');  
>  INSERT INTO `shop` VALUES ('14', 'æˆ‘Mook', '666', '55555', 'ä»–ä»¬',
> 'S70327-153418.jpg', '16:09', '19', '1', null, null, '11');  
>  INSERT INTO `shop` VALUES ('15', 'è¡£æœ', '5555', '1525', 'æ‹‰æ‹‰è£¤',
> '2e968922b717a4543d287479386c32d3.jpg,e449da8d8f54be75106341d1584853be.jpg,f41966d0cb59480e91103566df404564.jpg,cd4f86adddf369a6c7b3132907e5b7dd.jpg,aba4fbde71bc71cf8e48607c31be1da4.jpg,5df8d69b7208661a13e5fe00df88920a.jpg,6ef00a11682c3f09c318432a3d1fef66.jpg,8681bb0e575090cd82e00d26d443ac2c.jpg',
> '16:10', '19', '1', null, null, '12');
>
> \-- ----------------------------  
>  \-- Table structure for `user`  
>  \-- ----------------------------  
>  DROP TABLE IF EXISTS `user`;  
>  CREATE TABLE `user` (  
>  `uid` int(50) NOT NULL AUTO_INCREMENT,  
>  `uname` varchar(100) NOT NULL,  
>  `uphone` varchar(100) NOT NULL,  
>  `upswd` varchar(100) NOT NULL,  
>  `utime` varchar(100) NOT NULL,  
>  `utype` varchar(50) NOT NULL,  
>  `adminState` varchar(50) NOT NULL,  
>  `uimage` varchar(500) NOT NULL,  
>  PRIMARY KEY (`uid`)  
>  ) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf8;
>
> \-- ----------------------------  
>  \-- Records of user  
>  \-- ----------------------------  
>  INSERT INTO `user` VALUES ('18', 'pony', '15249243', '123456', '2017-02-28
> 23:11', '1', '2', '');  
>  INSERT INTO `user` VALUES ('19', 'pony1028', '15249243002', '123456',
> '2017-02-28 23:12', '2', '2', '');  
>  INSERT INTO `user` VALUES ('23', 'ponylove', '15249248989', '123456',
> '2017-03-02 17:27', '1', '2',
> 'f0003cffb54179d88bb7067b1359c88c.jpg,a6b530da80a8cc6a64464104d43c0274.jpg');  
>  INSERT INTO `user` VALUES ('25', 'ay', '15249245656', '123456', '2017-03-03
> 08:46', '1', '3', 'mmexport1488441286592.jpg');  
>  INSERT INTO `user` VALUES ('26', 'tom', '15249242323', '123456',
> '2017-03-03 15:06', '2', '2',
> 'Screenshot_2017-03-03-15-03-21.png,Screenshot_2017-03-03-15-03-56.png');  
>

#### äº”ã€éƒ¨åˆ†ä»£ç 

##### 1ï¼šåˆ›å»ºå›¾ä¹¦

>  
>  public class CreateShoppingActivity extends BaseActivity {
>
> // title  
>  private TextView mTvTitle;  
>  // è¿”å›ž  
>  private ImageView mIvBack;  
>  // æŸ¥è¯¢æŒ‰é’®  
>  private Button mbtnAdd;
>
> private EditText metMoney;  
>  private EditText metName;  
>  private EditText metMessage;  
>  private EditText metPhone;
>
>  
>  @Override  
>  protected void onCreate(Bundle savedInstanceState) {  
>  super.onCreate(savedInstanceState);  
>  setContentView(R.layout.activity_create_shopping);  
>  initWidget();  
>  initData();  
>  }
>
> @Override  
>  public void initWidget() {
>
>  
>  metPhone = (EditText) findViewById(R.id.metPhone);  
>  metMessage = (EditText) findViewById(R.id.metMessage);  
>  metMoney = (EditText) findViewById(R.id.metMoney);  
>  metName = (EditText) findViewById(R.id.metName);
>
> mbtnAdd = (Button) findViewById(R.id.mbtnAdd);  
>  mIvBack = (ImageView) findViewById(R.id.mIvBack);  
>  mTvTitle = (TextView) findViewById(R.id.mTvTitle);  
>  mTvTitle.setText("æ·»åŠ äº§å“");  
>  mIvBack.setVisibility(View.VISIBLE);  
>  mIvBack.setOnClickListener(this);  
>  mbtnAdd.setOnClickListener(this);  
>  }
>
> @Override  
>  public void onClick(View v) {
>
> switch (v.getId()) {  
>  case R.id.mIvBack:  
>  CreateShoppingActivity.this.finish();  
>  break;
>
> case R.id.mbtnAdd:  
>  JobAction(true);  
>  break;  
>  }  
>  }
>
> @Override  
>  public void initData() {
>
>  
>  }
>
> /**  
>  * ç”¨æˆ·çš„ç™»å½•  
>  *  
>  * @param isShow  
>  */  
>  private void JobAction(boolean isShow) {  
>  AjaxParams params = new AjaxParams();  
>  params.put("action_flag", "addMessage");  
>  params.put("sName", metName.getText().toString());  
>  params.put("sMoney", metMoney.getText().toString());  
>  params.put("sPhone",metPhone.getText().toString());  
>  params.put("sMessage",metMessage.getText().toString());  
>  params.put("userId",MemberUserUtils.getUid(this));  
>  httpPost(Consts.URL + Consts.APP.ShopAction, params,
> Consts.actionId.resultFlag, isShow, "æ­£åœ¨æäº¤...");  
>  }
>
> @Override  
>  protected void callBackSuccess(ResponseEntry entry, int actionId) {  
>  super.callBackSuccess(entry, actionId);  
>  
>  ToastUtil.show(CreateShoppingActivity.this, entry.getRepMsg());  
>  new Handler().postDelayed(new Runnable() {  
>  @Override  
>  public void run() {  
>  CreateShoppingActivity.this.finish();  
>  }  
>  }, 1000);  
>  }
>
> @Override  
>  protected void callBackAllFailure(String strMsg, int actionId) {  
>  super.callBackAllFailure(strMsg, actionId);  
>  ToastUtil.show(CreateShoppingActivity.this, strMsg);
>
> }
>
> }  
>

##### 2ï¼šå•†å“è¯¦æƒ…

>  
>  public class ShopMessageActivity extends BaseActivity implements
> ReviewListner {
>
> // æ ‡é¢˜  
>  private TextView mTvTitle;  
>  // è¿”å›ž  
>  private ImageView mIvBack;  
>  private TextView mIvStu;  
>  private TextView mtvMoney;  
>  private TextView mtvPhone;  
>  private TextView mtvName;  
>  private TextView metMessage;  
>  private ListviewForScrollView mListMessage;  
>  private ShopModel shopModel;  
>  private EditText metContent;  
>  private Button mbtnSend;  
>  private int checkFlag = 1;  
>  private String userName;  
>  private List<ImageView> views = new ArrayList<ImageView>();  
>  private List<SelectImageItem> infos = new ArrayList<SelectImageItem>();  
>  private CycleViewPager cycleViewPager;
>
> @Override  
>  protected void onCreate(Bundle savedInstanceState) {  
>  super.onCreate(savedInstanceState);  
>  setContentView(R.layout.activity_shop_messages);  
>  initWidget();  
>  initData();  
>  }
>
> @Override  
>  public void onClick(View v) {  
>  switch (v.getId()) {  
>  case R.id.mIvBack:  
>  finish();  
>  break;  
>  case R.id.mbtnSend:  
>  
>  if (MemberUserUtils.getUid(this).equals("")) {  
>  Intent intent = new Intent(this, LoginActivity.class);  
>  startActivity(intent);  
>  } else {  
>  if (TextUtils.isEmpty(metContent.getText().toString())) {  
>  ToastUtil.ShowCentre(this, "è¯·è¾“å…¥è¯„è®ºå†…å®¹");  
>  return;  
>  }  
>  hideSoft(this, metContent);  
>  if (checkFlag == 1) {  
>  ReviewAction(true);  
>  } else {  
>  ReplyAction(true, userName);  
>  }  
>  }
>
> break;  
>  case R.id.mIvStu:  
>  
>  if (shopModel.getColectState().equals("true")) {  
>  deleteCollect(true, shopModel);  
>  } else {  
>  collectMsg(true);  
>  }  
>  
>  break;  
>  }  
>  }
>
> @Override  
>  public void initWidget() {  
>  
>  
>  mIvStu = (TextView) findViewById(R.id.mIvStu);  
>  mIvStu.setText("æ”¶è—");  
>  mIvStu.setVisibility(View.VISIBLE);  
>  mIvStu.setOnClickListener(this);  
>  mbtnSend = (Button) findViewById(R.id.mbtnSend);  
>  metMessage = (TextView) findViewById(R.id.metMessage);  
>  mtvName = (TextView) findViewById(R.id.mtvName);  
>  mtvMoney = (TextView) findViewById(R.id.mtvMoney);  
>  mtvPhone = (TextView) findViewById(R.id.mtvPhone);
>
> mListMessage = (ListviewForScrollView) findViewById(R.id.mListMessage);  
>  mIvBack = (ImageView) findViewById(R.id.mIvBack);  
>  mTvTitle = (TextView) findViewById(R.id.mTvTitle);  
>  metContent = (EditText) findViewById(R.id.metContent);
>
> cycleViewPager = (CycleViewPager)
> getFragmentManager().findFragmentById(R.id.fragment_shop_image);
>
> mIvBack.setVisibility(View.VISIBLE);  
>  mIvBack.setOnClickListener(this);  
>  mbtnSend.setOnClickListener(this);  
>  mTvTitle.setText("å•†å“è¯¦æƒ…");
>
> }
>
> @Override  
>  public void initData() {
>
> try {  
>  shopModel = (ShopModel) this.getIntent().getSerializableExtra("msg");  
>  mtvName.setText(shopModel.getsName());  
>  mtvMoney.setText(shopModel.getsMoney());  
>  mtvPhone.setText(shopModel.getsPhone());  
>  metMessage.setText(shopModel.getsMessage());  
>
>
> if (shopModel.getColectState().equals("true")) {  
>  mIvStu.setText("å·²æ”¶è—");  
>  } else {  
>  mIvStu.setText("æ”¶è—");  
>  }  
>  
>
>
> for (int i = 0; i < shopModel.getsImage().split(",").length; i++) {  
>  SelectImageItem info = new SelectImageItem();  
>  info.setUrl(Consts.URL_IMAGE + shopModel.getsImage().split(",")[i]);  
>  info.setSid(i);  
>  infos.add(info);  
>  }
>
> // å°†æœ€åŽä¸€ä¸ªImageViewæ·»åŠ è¿›æ¥  
>  views.add(ViewFactory.getImageView(this, infos.get(infos.size() -
> 1).getUrl()));  
>  for (int i = 0; i < infos.size(); i++) {  
>  views.add(ViewFactory.getImageView(this, infos.get(i).getUrl()));  
>  }  
>  // å°†ç¬¬ä¸€ä¸ªImageViewæ·»åŠ è¿›æ¥  
>  views.add(ViewFactory.getImageView(this, infos.get(0).getUrl()));
>
> // è®¾ç½®å¾ªçŽ¯ï¼Œåœ¨è°ƒç”¨setDataæ–¹æ³•å‰è°ƒç”¨  
>  cycleViewPager.setCycle(true);
>
> // åœ¨åŠ è½½æ•°æ®å‰è®¾ç½®æ˜¯å¦å¾ªçŽ¯  
>  cycleViewPager.setData(views, infos, mAdCycleViewListener);  
>  // è®¾ç½®è½®æ’­  
>  cycleViewPager.setWheel(true);
>
> // è®¾ç½®è½®æ’­æ—¶é—´ï¼Œé»˜è®¤5000ms  
>  cycleViewPager.setTime(2000);  
>  // è®¾ç½®åœ†ç‚¹æŒ‡ç¤ºå›¾æ ‡ç»„å±…ä¸­æ˜¾ç¤ºï¼Œé»˜è®¤é å³  
>  cycleViewPager.setIndicatorCenter();
>
> ListNoticesMessage(true);  
>  } catch (Exception e) {  
>  e.printStackTrace();  
>  }  
>  }
>
> private void ReviewAction(boolean isShow) {  
>  AjaxParams params = new AjaxParams();  
>  params.put("action_flag", "addMessage");  
>  params.put("rUserId", MemberUserUtils.getUid(this));  
>  params.put("rUserName", MemberUserUtils.getName(this));  
>  params.put("rShopId", shopModel.getsId());  
>  params.put("rReviewContent", metContent.getText().toString());  
>  params.put("rReplyContent", "");
>
> httpPost(Consts.URL + Consts.APP.ReviewAction, params,
> Consts.actionId.resultCode, isShow, "æ­£åœ¨æäº¤...");  
>  }
>
> private void ListNoticesMessage(boolean isShow) {  
>  AjaxParams params = new AjaxParams();  
>  params.put("action_flag", "listNoticesMessage");  
>  params.put("rNewsId", shopModel.getsId());  
>  httpPost(Consts.URL + Consts.APP.ReviewAction, params,
> Consts.actionId.resultFlag, isShow, "æ­£åœ¨æäº¤...");  
>  }
>
> @Override  
>  protected void callBackSuccess(ResponseEntry entry, int actionId) {  
>  super.callBackSuccess(entry, actionId);
>
> switch (actionId) {
>
> case Consts.actionId.resultCode:  
>  metContent.setText("");  
>  ListNoticesMessage(false);  
>  break;  
>  case Consts.actionId.resultFlag:  
>  List<ReviewModel> list_result = mGson.fromJson(entry.getData(), new
> TypeToken<List<ReviewModel>>() {  
>  }.getType());
>
> ReplyAdapter replyAdapter = new ReplyAdapter(ShopMessageActivity.this,
> list_result, ShopMessageActivity.this);  
>  mListMessage.setAdapter(replyAdapter);
>
> break;  
>  case Consts.actionId.resultSix:  
>  shopModel.setColectState("true");  
>  mIvStu.setText("å·²æ”¶è—");  
>  ToastUtil.show(this, entry.getRepMsg());  
>  break;
>
> case Consts.actionId.resultSeven:  
>  shopModel.setColectState("false");  
>  mIvStu.setText("æ”¶è—");
>
> ToastUtil.show(this, entry.getRepMsg());  
>  break;  
>  
>  default:  
>  break;  
>  }
>
> }
>
> @Override  
>  protected void callBackAllFailure(String strMsg, int actionId) {  
>  super.callBackAllFailure(strMsg, actionId);  
>  ToastUtil.show(this, strMsg);
>
> }
>
> private ImageCycleViewListener mAdCycleViewListener = new
> ImageCycleViewListener() {
>
> @Override  
>  public void onImageClick(SelectImageItem info, int position, View
> imageView) {  
>  if (cycleViewPager.isCycle()) {  
>  position = position - 1;  
>  Intent intentPicture = new Intent(ShopMessageActivity.this,
> ShowCreatePicturesActivity.class);  
>  intentPicture.putExtra("flagMyShop", "myShop");  
>  intentPicture.putExtra("piction_path", (Serializable) infos);  
>  // intentPicture.putExtra("modelMessage", list_result.get(pos));  
>  startActivityForResult(intentPicture, 6);  
>  // Toast.makeText(ShopMessageActivity.this, "position-->" +
> info.getContent(), Toast.LENGTH_SHORT).show();  
>  }
>
> }
>
> };
>
> /*  
>  * éšè—è½¯é”®ç›˜  
>  */  
>  public void hideSoft(Context context, EditText edittext) {  
>  try {  
>  if (edittext != null && context != null) {  
>  InputMethodManager imm = (InputMethodManager)
> context.getSystemService(Context.INPUT_METHOD_SERVICE);  
>  imm.hideSoftInputFromWindow(edittext.getWindowToken(), 0);  
>  }  
>  } catch (Exception e) {  
>  e.printStackTrace();  
>  }  
>  }
>
> @Override  
>  public void setRemove(int pos, ReviewModel reviewModel) {  
>  userName = reviewModel.getrUserName() ;  
>  metContent.setHint("å›žå¤ï¼š" + reviewModel.getrUserName());  
>  checkFlag = 2;
>
> }
>
> private void ReplyAction(boolean isShow, String userName) {  
>  AjaxParams params = new AjaxParams();  
>  params.put("action_flag", "addMessage");  
>  params.put("rUserId", MemberUserUtils.getUid(this));  
>  params.put("rUserName", MemberUserUtils.getName(this) + "å›žå¤" + userName);  
>  params.put("rShopId", shopModel.getsId());  
>  params.put("rReviewContent", metContent.getText().toString());  
>  params.put("rReplyContent", "");  
>  httpPost(Consts.URL + Consts.APP.ReviewAction, params,
> Consts.actionId.resultCode, isShow, "æ­£åœ¨æäº¤...");  
>  }  
>  private void collectMsg(boolean isShow) {  
>  AjaxParams params = new AjaxParams();  
>  params.put("action_flag", "collectMsg");  
>  params.put("cUserId", MemberUserUtils.getUid(this));  
>  params.put("cUserName", MemberUserUtils.getName(this));  
>  params.put("cShopId", shopModel.getsId());  
>  httpPost(Consts.URL + Consts.APP.ShopAction, params,
> Consts.actionId.resultSix, isShow, "æ­£åœ¨åŠ è½½...");  
>  }
>
> private void deleteCollect(boolean isShow, ShopModel shopModel) {  
>  AjaxParams params = new AjaxParams();  
>  params.put("action_flag", "deleteCollect");  
>  params.put("cShopId",shopModel.getsId());  
>  params.put("cUserId", MemberUserUtils.getUid(this));  
>  httpPost(Consts.URL + Consts.APP.ShopAction, params,
> Consts.actionId.resultSeven, isShow, "æ­£åœ¨åŠ è½½...");  
>  }  
>  }  
>

#### å…­ã€æµè§ˆæ›´å¤šAndroidæ¯•ä¸šè®¾è®¡

[æ¯•ä¸šè®¾è®¡-åŸºäºŽandroidçš„ç§Ÿæˆ¿ä¿¡æ¯å‘å¸ƒå¹³å°çš„APP_ä¿¡æ¯å‘å¸ƒappæºç _Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-
CSDNåšå®¢](https://blog.csdn.net/u014388322/article/details/100656450?spm=1001.2014.3001.5502
"æ¯•ä¸šè®¾è®¡-åŸºäºŽandroidçš„ç§Ÿæˆ¿ä¿¡æ¯å‘å¸ƒå¹³å°çš„APP_ä¿¡æ¯å‘å¸ƒappæºç _Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-CSDNåšå®¢")

[æ¯•ä¸šè®¾è®¡-åŸºäºŽandroidé€‰è¯¾ç³»ç»Ÿçš„è®¾è®¡ä¸Žå®žçŽ°_androidå­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿ_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-
CSDNåšå®¢](https://blog.csdn.net/u014388322/article/details/100656536?spm=1001.2014.3001.5502
"æ¯•ä¸šè®¾è®¡-åŸºäºŽandroidé€‰è¯¾ç³»ç»Ÿçš„è®¾è®¡ä¸Žå®žçŽ°_androidå­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿ_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-CSDNåšå®¢")

[æ¯•ä¸šè®¾è®¡ä¹‹æ ¡å›­ä¸€å¡é€šç®¡ç†ç³»ç»Ÿçš„è®¾è®¡ä¸Žå®žçŽ°_ä¸€å¡é€šç®¡ç†ç³»ç»Ÿå®žçŽ°_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-
CSDNåšå®¢](https://blog.csdn.net/u014388322/article/details/126048550?spm=1001.2014.3001.5502
"æ¯•ä¸šè®¾è®¡ä¹‹æ ¡å›­ä¸€å¡é€šç®¡ç†ç³»ç»Ÿçš„è®¾è®¡ä¸Žå®žçŽ°_ä¸€å¡é€šç®¡ç†ç³»ç»Ÿå®žçŽ°_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-CSDNåšå®¢")

[åŸºäºŽAndroidçš„æ ¡å›­äºŒæ‰‹é—²ç½®ç‰©å“äº¤æ˜“ç³»ç»Ÿè®¾è®¡ä¸Žå®žçŽ°_åŸºäºŽandroidçš„äºŒæ‰‹äº¤æ˜“å¹³å°_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-
CSDNåšå®¢](https://blog.csdn.net/u014388322/article/details/128232475?spm=1001.2014.3001.5502
"åŸºäºŽAndroidçš„æ ¡å›­äºŒæ‰‹é—²ç½®ç‰©å“äº¤æ˜“ç³»ç»Ÿè®¾è®¡ä¸Žå®žçŽ°_åŸºäºŽandroidçš„äºŒæ‰‹äº¤æ˜“å¹³å°_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-CSDNåšå®¢")

[åŸºäºŽandroidstudioæ ¡å›­å¿«é€’APPç³»ç»Ÿçš„è®¾è®¡ä¸Žå®žçŽ°_android studioè®ºæ–‡_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-
CSDNåšå®¢](https://blog.csdn.net/u014388322/article/details/128545390?spm=1001.2014.3001.5502
"åŸºäºŽandroidstudioæ ¡å›­å¿«é€’APPç³»ç»Ÿçš„è®¾è®¡ä¸Žå®žçŽ°_android studioè®ºæ–‡_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-CSDNåšå®¢")

[åŸºäºŽandroidçš„å•†åŸŽè´­ç‰©å®šåˆ¶APP_å®‰å“å¼€å‘è´­ç‰©app_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-
CSDNåšå®¢](https://blog.csdn.net/u014388322/article/details/128746697?spm=1001.2014.3001.5502
"åŸºäºŽandroidçš„å•†åŸŽè´­ç‰©å®šåˆ¶APP_å®‰å“å¼€å‘è´­ç‰©app_Androidæ¯•ä¸šè®¾è®¡æºç çš„åšå®¢-CSDNåšå®¢")

> æ›´å¤šæ¯•ä¸šè®¾è®¡å¯ä»¥æµè§ˆæˆ‘çš„ä¸ªäººä¸»é¡µå“¦ï¼

#### ä¸ƒã€æºç ä¸‹è½½

> <https://download.csdn.net/download/u014388322/87437406>â€‹

